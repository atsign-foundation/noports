version: '3'
services:
  base:
    build:
      context: .
      dockerfile: images/base/Dockerfile
  sshnpd_trunk:
    depends_on:
      - base
    build:
      context: ./context/sshnpd
      dockerfile: ../../images/sshnpd_trunk/Dockerfile
    container_name: sshnpd_trunk
  sshnp_trunk:
    depends_on:
      - base
    build: 
      context: ./context/sshnp
      dockerfile: ../../images/sshnp_trunk/Dockerfile
    container_name: sshnp_trunk
  sshnpd_release:
    depends_on:
      - base
    build:
      context: ./context/sshnpd
      dockerfile: ../../images/sshnpd_release/Dockerfile
    container_name: sshnpd_release
  sshnp_release:
    depends_on:
      - base
    build: 
      context: ./context/sshnp
      dockerfile: ../../images/sshnp_release/Dockerfile
    container_name: sshnpd_release

